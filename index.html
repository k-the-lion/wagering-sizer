<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Wagering Sizer 2.0</title>
    <style>
:root{--sn-stylekit-neutral-color: #72767e;--sn-stylekit-neutral-contrast-color: #ffffff;--sn-stylekit-info-color: #086dd6;--sn-stylekit-info-color-darkened: #065cb5;--sn-stylekit-info-contrast-color: #ffffff;--sn-stylekit-info-backdrop-color: #2b6fcf0f;--sn-stylekit-success-color: #007662;--sn-stylekit-success-contrast-color: #ffffff;--sn-stylekit-warning-color: #ebad00;--sn-stylekit-warning-contrast-color: #ffffff;--sn-stylekit-danger-color: #cc2128;--sn-stylekit-danger-contrast-color: #ffffff;--sn-stylekit-danger-light-color: #f9e4e5;--sn-stylekit-shadow-color: #c8c8c8;--sn-stylekit-background-color: #ffffff;--sn-stylekit-border-color: #dfe1e4;--sn-stylekit-foreground-color: #19191c;--sn-stylekit-contrast-background-color: rgba(244, 245, 247, 1);--sn-stylekit-contrast-foreground-color: #2e2e2e;--sn-stylekit-contrast-border-color: #e3e3e3;--sn-stylekit-secondary-background-color: #eeeff1;--sn-stylekit-secondary-foreground-color: #2e2e2e;--sn-stylekit-secondary-border-color: #e3e3e3;--sn-stylekit-secondary-contrast-background-color: #e3e3e3;--sn-stylekit-secondary-contrast-foreground-color: #2e2e2e;--sn-stylekit-secondary-contrast-border-color: #a2a2a2;--sn-stylekit-editor-background-color: var(--sn-stylekit-background-color);--sn-stylekit-editor-foreground-color: var(--sn-stylekit-foreground-color);--sn-stylekit-paragraph-text-color: #454545;--sn-stylekit-input-placeholder-color: #a8a8a8;--sn-stylekit-input-border-color: #e3e3e3;--sn-stylekit-scrollbar-thumb-color: #dfdfdf;--sn-stylekit-scrollbar-track-border-color: #e7e7e7;--sn-stylekit-theme-type: light;--sn-stylekit-theme-name: sn-light;--sn-stylekit-passive-color-0: #515357;--sn-stylekit-passive-color-1: #72767e;--sn-stylekit-passive-color-2: #bbbec4;--sn-stylekit-passive-color-3: #dfe1e4;--sn-stylekit-passive-color-4: #eeeff1;--sn-stylekit-passive-color-4-opacity-variant: #bbbec43d;--sn-stylekit-passive-color-5: #f4f5f7;--sn-stylekit-passive-color-6: #e5e5e5;--sn-stylekit-passive-color-super-light: #f9f9f9;--sn-stylekit-accessory-tint-color-1: #086dd6;--sn-stylekit-accessory-tint-color-2: #ea6595;--sn-stylekit-accessory-tint-color-3: #ebad00;--sn-stylekit-accessory-tint-color-4: #7049cf;--sn-stylekit-accessory-tint-color-5: #1aa772;--sn-stylekit-accessory-tint-color-6: #f28c52}
:root{--lexical-ordered-list-left-margin: 16px}.monospace-font{--lexical-ordered-list-left-margin: 42px}.Lexical__ol1{padding:0;margin:0;margin-left:var(--lexical-ordered-list-left-margin);list-style-position:outside}.Lexical__ol1.Lexical__rtl{margin-left:0;margin-right:var(--lexical-ordered-list-left-margin)}.Lexical__ol2{padding:0;margin:0;margin-left:var(--lexical-ordered-list-left-margin);list-style-position:outside}.Lexical__ol2.Lexical__rtl{margin-left:0;margin-right:var(--lexical-ordered-list-left-margin)}.Lexical__ol3{padding:0;margin:0;margin-left:var(--lexical-ordered-list-left-margin);list-style-position:outside}.Lexical__ol3.Lexical__rtl{margin-left:0;margin-right:var(--lexical-ordered-list-left-margin)}.Lexical__ol4{padding:0;margin:0;margin-left:var(--lexical-ordered-list-left-margin);list-style-position:outside}.Lexical__ol4.Lexical__rtl{margin-left:0;margin-right:var(--lexical-ordered-list-left-margin)}.Lexical__ol5{padding:0;margin:0;margin-left:var(--lexical-ordered-list-left-margin);list-style-position:outside}.Lexical__ol5.Lexical__rtl{margin-left:0;margin-right:var(--lexical-ordered-list-left-margin)}.Lexical__ol2{list-style-type:upper-alpha}.Lexical__ol3{list-style-type:lower-alpha}.Lexical__ol4{list-style-type:upper-roman}.Lexical__ol5{list-style-type:lower-roman}.Lexical__ul{padding:0;margin:0;margin-left:16px;list-style-position:outside}.Lexical__ul.Lexical__rtl{margin-left:0;margin-right:16px}.Lexical__checkList{margin-left:0}.Lexical__nestedListItem .Lexical__checkList{margin-left:16px}.Lexical__listItem{margin:0 0px}.Lexical__listItemChecked,.Lexical__listItemUnchecked{position:relative;padding-left:calc(var(--font-size) + .5rem);padding-right:calc(var(--font-size) + .5rem);list-style-type:none;outline:none;vertical-align:middle}.Lexical__listItemChecked:focus,.Lexical__listItemChecked:focus-within,.Lexical__listItemUnchecked:focus,.Lexical__listItemUnchecked:focus-within{outline:none;box-shadow:none}.Lexical__listItemChecked{text-decoration:line-through;opacity:.4}.Lexical__listItemUnchecked:before,.Lexical__listItemChecked:before{content:"";--size: 16px;width:var(--size);height:var(--size);left:0;top:calc(var(--line-height, 1)*var(--font-size)/2);transform:translateY(-50%);cursor:pointer;background-size:cover;position:absolute}.Lexical__listItemUnchecked[dir=rtl]:before,.Lexical__listItemChecked[dir=rtl]:before{left:auto;right:0}.Lexical__listItemUnchecked:before{border:1px solid #999;border-radius:2px}.Lexical__listItemChecked:before{border:1px solid var(--sn-stylekit-info-color);border-radius:2px;background-color:var(--sn-stylekit-info-color);background-repeat:no-repeat}.Lexical__listItemChecked:after{content:"";cursor:pointer;border-color:var(--sn-stylekit-info-contrast-color);border-style:solid;position:absolute;display:block;width:5px;height:11px;--top: calc(var(--line-height, 1) * var(--font-size) / 2);top:calc(var(--top) - 1px);left:5px;transform:translateY(-50%) rotate(45deg);border-width:0 2px 2px 0}.Lexical__nestedListItem{list-style-type:none}.Lexical__nestedListItem.Lexical__listItemUnchecked{padding-left:0}.Lexical__nestedListItem:before,.Lexical__nestedListItem:after{display:none}.Lexical__ltr{text-align:left}.Lexical__rtl{text-align:right}.Lexical__code{white-space:pre}.Lexical__paragraph{margin:0;position:relative}.Lexical__quote{margin:0;margin-left:20px;margin-bottom:10px;color:var(--sn-stylekit-passive-color-1);border-left-color:var(--sn-stylekit-passive-color-1);border-left-width:4px;border-left-style:solid;padding-left:16px}.Lexical__quote.Lexical__rtl{margin-left:0;margin-right:20px;border-left-color:rgba(0,0,0,0);border-right-color:var(--sn-stylekit-passive-color-1);border-right-width:4px;border-right-style:solid;padding-right:16px}.Lexical__h1{font-size:26px;color:var(--sn-stylekit-editor-foreground-color);font-weight:700;margin:0}.Lexical__h2{font-size:22px;color:var(--sn-stylekit-editor-foreground-color);font-weight:700;margin:0}.Lexical__h3{font-size:19px;font-weight:700;margin:0}.Lexical__textBold{font-weight:bold}.Lexical__textItalic{font-style:italic}.Lexical__textUnderline{text-decoration:underline}.Lexical__textStrikethrough{text-decoration:line-through}.Lexical__textUnderlineStrikethrough{text-decoration:underline line-through}.Lexical__textSubscript{font-size:.8em;vertical-align:sub !important}.Lexical__textSuperscript{font-size:.8em;vertical-align:super}.Lexical__textCode{background-color:var(--sn-stylekit-secondary-background-color);color:var(--sn-stylekit-info-color);padding:5px;border-radius:5px;font-family:Menlo,Consolas,Monaco,monospace;font-size:85%}.Lexical__hashtag{background-color:rgba(88,144,255,.15);border-bottom:1px solid rgba(88,144,255,.3)}.Lexical__link{color:var(--sn-stylekit-info-color);text-decoration:none}.Lexical__link:hover{text-decoration:underline}.Lexical__code{background-color:var(--sn-stylekit-contrast-background-color);font-family:var(--sn-stylekit-monospace-font),monospace;display:block;padding:1.25rem 1.35rem;margin:.5rem 0;tab-size:2;overflow-x:auto;position:relative;border-radius:.25rem}.Collapsible__container .Lexical__code{background-color:var(--sn-stylekit-background-color);border:1px solid var(--sn-stylekit-contrast-border-color)}.Lexical__table{border-collapse:collapse;border-spacing:0;max-width:100%;overflow-y:scroll;table-layout:fixed;width:calc(100% - 25px);margin:.5rem 0;color:var(--sn-stylekit-contrast-foreground-color)}.Lexical__tableSelection *::selection{background-color:rgba(0,0,0,0) !important}.Lexical__tableSelected{outline:2px solid #3c84f4}.Lexical__tableCell{border:1px solid var(--sn-stylekit-border-color);min-width:75px;vertical-align:top;text-align:start;padding:6px 8px;position:relative;cursor:default;outline:none}.Lexical__tableCellSortedIndicator{display:block;opacity:.5;position:absolute;bottom:0;left:0;width:100%;height:4px;background-color:#999}.Lexical__tableCellResizer{position:absolute;right:-4px;height:100%;width:8px;cursor:ew-resize;z-index:10;top:0}.Lexical__tableCellHeader{background-color:var(--sn-stylekit-contrast-background-color);border-color:var(--sn-stylekit-contrast-border-color);text-align:start}.Lexical__tableCellSelected{background-color:#c9dbf0}.Lexical__tableCellPrimarySelected{border:2px solid #3c84f4;display:block;height:calc(100% - 2px);position:absolute;width:calc(100% - 2px);left:-1px;top:-1px;z-index:2}.Lexical__tableCellEditing{box-shadow:0 0 5px rgba(0,0,0,.4);border-radius:3px}.Lexical__tableCellResizeRuler{display:block;position:absolute;width:1px;background-color:#3c84f4;height:100%;top:0}.Lexical__tableCellActionButtonContainer{display:block;right:5px;top:6px;position:absolute;z-index:4;width:20px;height:20px}.Lexical__tableCellActionButton{background-color:#eee;display:block;border:0;border-radius:20px;width:20px;height:20px;color:#222;cursor:pointer}.Lexical__tableCellActionButton:hover{background-color:#ddd}.Lexical__characterLimit{display:inline;background-color:#fbb !important}.Lexical__tokenComment{color:#708090}.Lexical__tokenPunctuation{color:#999}.Lexical__tokenProperty{color:#905}.Lexical__tokenSelector{color:#690}.Lexical__tokenOperator{color:#9a6e3a}.Lexical__tokenAttr{color:#07a}.Lexical__tokenVariable{color:#e90}.Lexical__tokenFunction{color:#dd4a68}.Lexical__mark{background:rgba(255,212,0,.14);border-bottom:2px solid rgba(255,212,0,.3);padding-bottom:2px}.Lexical__markOverlap{background:rgba(255,212,0,.3);border-bottom:2px solid rgba(255,212,0,.7)}.Lexical__mark.selected{background:rgba(255,212,0,.5);border-bottom:2px solid #ffd400}.Lexical__markOverlap.selected{background:rgba(255,212,0,.7);border-bottom:2px solid rgba(255,212,0,.7)}.Lexical__embedBlock{user-select:none}.embedBlockFocused{outline:2px solid var(--sn-stylekit-info-color)}.Lexical__blockCursor{display:block;pointer-events:none;position:absolute}.Lexical__blockCursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--sn-stylekit-editor-foreground-color);animation:CursorBlink 1.1s steps(2, start) infinite}@keyframes CursorBlink{to{visibility:hidden}}
.Lexical__listItemUnchecked,.Lexical__listItemChecked{min-height:18px;margin-bottom:4px}.Lexical__table{margin:10px 0}
    </style>
  </head>
  <body style="--font-size: 1rem; --line-height: 1.5; font-size: var(--font-size); line-height: var(--line-height);">
    <p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;!DOCTYPE html&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;html lang="en"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;head&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;meta charset="UTF-8"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;title&gt;20-Minute Trader - Wagering Sizer&lt;/title&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;style&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        body {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            font-family: 'Inter', sans-serif;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .table-cell {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            padding: 0.75rem;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            border: 1px solid </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#e5e7eb</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            text-align: center;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .header-cell {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            background-color: </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#f9fafb</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            font-weight: 600;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        input[type="number"], select {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            border-radius: 0.375rem;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            border: 1px solid </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#d1d5db</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            padding: 0.5rem;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            width: 100%;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            box-sizing: border-box;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .lockout-red {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            color: </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#dc2626</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            font-weight: 700;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .profit-green {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            color: </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#16a34a</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .loss-red {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            color: </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#dc2626</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        .disabled-row {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            background-color: </span><span class="Lexical__hashtag" style="white-space: pre-wrap;">#f3f4f6</span><span style="white-space: pre-wrap;">;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            opacity: 0.7;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;/style&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;/head&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;body class="bg-gray-50 text-gray-800 p-4 sm:p-6 md:p-8"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;div class="max-w-7xl mx-auto bg-white rounded-xl shadow-md p-6"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;header class="mb-6 pb-4 border-b border-gray-200"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;h1 class="text-2xl sm:text-3xl font-bold text-gray-900"&gt;20-Minute Trader — Wagering Sizer&lt;/h1&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;h2 class="font-semibold mb-1"&gt;How to use this tool:&lt;/h2&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;ol class="list-decimal list-inside space-y-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;li&gt;Fill in your current day's account details and strategy in the setup boxes below.&lt;/li&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;li&gt;Use the "NEXT TRADE SIZE" value for your upcoming trade.&lt;/li&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;li&gt;After each trade, enter the final profit (positive) or loss (negative) in the "Actual Result ($)" column. The sizer will update automatically.&lt;/li&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/ol&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;/header&gt;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;!-- Account Setup --&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-gray-50 p-4 rounded-lg border"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;h3 class="font-semibold text-lg mb-3"&gt;Account Setup&lt;/h3&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;div class="space-y-3"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="currentBalance" class="block text-sm font-medium text-gray-700"&gt;Current Balance ($)&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="currentBalance" value="50000" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="maxLossLimit" class="block text-sm font-medium text-gray-700"&gt;Maximum Loss Limit ($)&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="maxLossLimit" value="48000" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="lossLockoutPercent" class="block text-sm font-medium text-gray-700"&gt;Loss Lockout %&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="lossLockoutPercent" value="0.125" step="0.001" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;!-- Ladder Logic --&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-gray-50 p-4 rounded-lg border"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;h3 class="font-semibold text-lg mb-3"&gt;Ladder Logic&lt;/h3&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;div class="space-y-3"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="autoLadder" class="block text-sm font-medium text-gray-700"&gt;Auto Ladder when Green?&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;select id="autoLadder" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                            &lt;option value="true" selected&gt;On&lt;/option&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                            &lt;option value="false"&gt;Off&lt;/option&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;/select&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="minProfitToKeep" class="block text-sm font-medium text-gray-700"&gt;Absolute minimum profit ($)&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="minProfitToKeep" value="50" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="lockInPercent" class="block text-sm font-medium text-gray-700"&gt;Lock-in % of current green&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="lockInPercent" value="0.75" step="0.01" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;!-- Sizing Parameters --&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-gray-50 p-4 rounded-lg border"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;h3 class="font-semibold text-lg mb-3"&gt;Sizing Parameters&lt;/h3&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                 &lt;div class="space-y-3"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="feeCushion" class="block text-sm font-medium text-gray-700"&gt;Per-trade fee cushion ($)&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="feeCushion" value="5" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;label for="roundDown" class="block text-sm font-medium text-gray-700"&gt;Round down to nearest $&lt;/label&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="roundDown" value="5" step="1" class="mt-1"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;/div&gt;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-white p-4 rounded-lg border-2"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p class="text-sm font-medium text-gray-500"&gt;Full Stack ($)&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p id="fullStack" class="text-2xl font-bold"&gt;&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-white p-4 rounded-lg border-2"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p class="text-sm font-medium text-gray-500"&gt;Daily Loss Lockout ($)&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p id="dailyLossLockout" class="text-2xl font-bold"&gt;&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;div class="bg-blue-600 text-white p-4 rounded-lg shadow-lg"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p class="text-sm font-medium text-blue-200"&gt;NEXT TRADE SIZE ($)&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;p id="nextTradeSize" class="text-2xl font-bold"&gt;&lt;/p&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;/div&gt;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;div class="overflow-x-auto"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;table class="min-w-full divide-y divide-gray-200 border"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;thead class="bg-gray-50"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;tr&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;th class="table-cell header-cell w-16"&gt;Trade #&lt;/th&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;th class="table-cell header-cell"&gt;Recommended TP/SL ($)&lt;/th&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;th class="table-cell header-cell bg-blue-100"&gt;Actual Result ($)&lt;/th&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;th class="table-cell header-cell"&gt;Running P&amp;L ($)&lt;/th&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;th class="table-cell header-cell"&gt;Lockout&lt;/th&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/tr&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/thead&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;tbody id="trade-rows" class="bg-white divide-y divide-gray-200"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;!-- Rows will be generated by JavaScript --&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                &lt;/tbody&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            &lt;/table&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        &lt;/div&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;/div&gt;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;script&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        const NUM_TRADES = 50;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        function getFloatValue(id) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            return parseFloat(document.getElementById(id).value) || 0;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        function getBoolValue(id) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            return document.getElementById(id).value === 'true';</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        function calculate() {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            // Get all parameters</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const currentBalance = getFloatValue('currentBalance');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const maxLossLimit = getFloatValue('maxLossLimit');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const lossLockoutPercent = getFloatValue('lossLockoutPercent');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const feeCushion = getFloatValue('feeCushion');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const roundDown = getFloatValue('roundDown');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const autoLadder = getBoolValue('autoLadder');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const minProfitToKeep = getFloatValue('minProfitToKeep');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const lockInPercent = getFloatValue('lockInPercent');</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            // Initial calculations</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const fullStack = currentBalance - maxLossLimit;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const dailyLossLockout = fullStack * lossLockoutPercent;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            </span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            document.getElementById('fullStack').textContent = fullStack.toFixed(2);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            document.getElementById('dailyLossLockout').textContent = `-${dailyLossLockout.toFixed(2)}`;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            let runningPL = 0;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            let isLockedOut = false;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            let nextTradeSizeFound = false;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            for (let i = 1; i &lt;= NUM_TRADES; i++) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const row = document.getElementById(`trade-row-${i}`);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const resultInput = document.getElementById(`result-${i}`);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const recommendedTpslSpan = document.getElementById(`recommended-tpsl-${i}`);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const runningPlSpan = document.getElementById(`running-pl-${i}`);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const lockoutSpan = document.getElementById(`lockout-${i}`);</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const prevRunningPL = (i === 1) ? 0 : parseFloat(document.getElementById(`running-pl-${i - 1}`).textContent) || 0;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                let recommendedTpsl = 0;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                if (!isLockedOut) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    if (i === 1) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        recommendedTpsl = Math.floor(Math.max(0, (dailyLossLockout * 0.5) - feeCushion) / roundDown) * roundDown;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    } else {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        if (autoLadder &amp;&amp; prevRunningPL &gt; 0) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                            const profitToRisk = prevRunningPL - Math.max(minProfitToKeep, prevRunningPL * lockInPercent);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                            recommendedTpsl = Math.floor(Math.max(0, profitToRisk - feeCushion) / roundDown) * roundDown;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        } else {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                            recommendedTpsl = Math.floor(Math.max(0, ((dailyLossLockout + prevRunningPL) * 0.5) - feeCushion) / roundDown) * roundDown;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                        }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                    }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                recommendedTpslSpan.textContent = recommendedTpsl.toFixed(2);</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                </span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                // Update next trade size display only for the first open trade</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                if (!isLockedOut &amp;&amp; !nextTradeSizeFound) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    document.getElementById('nextTradeSize').textContent = recommendedTpsl.toFixed(2);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    if (resultInput.value.trim() !== '') {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        // This trade is filled, so the next one is the 'next trade'</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    } else {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                       nextTradeSizeFound = true; </span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                    }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                }</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                // Calculate running P&amp;L based on actual result</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const actualResult = parseFloat(resultInput.value) || 0;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                runningPL = prevRunningPL + actualResult;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                runningPlSpan.textContent = runningPL.toFixed(2);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                runningPlSpan.classList.toggle('profit-green', runningPL &gt; 0);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                runningPlSpan.classList.toggle('loss-red', runningPL &lt; 0);</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                // Check for lockout conditions</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                let lockoutMsg = "";</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                if (runningPL &lt;= -dailyLossLockout &amp;&amp; dailyLossLockout &gt; 0) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    lockoutMsg = "LOCKOUT (Daily Loss)";</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    isLockedOut = true;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                } else if (autoLadder &amp;&amp; prevRunningPL &gt; 0 &amp;&amp; actualResult &lt; 0) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    lockoutMsg = "LOCKOUT (Ladder Loss)";</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    isLockedOut = true;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                lockoutSpan.textContent = lockoutMsg;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                lockoutSpan.classList.add('lockout-red');</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                // Disable future rows if locked out or current row is active</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const isRowActive = resultInput.value.trim() !== '';</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                if (isLockedOut) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    for (let j = i + 1; j &lt;= NUM_TRADES; j++) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        document.getElementById(`trade-row-${j}`).classList.add('disabled-row');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        document.getElementById(`result-${j}`).disabled = true;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                    }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            </span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            if (isLockedOut) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                document.getElementById('nextTradeSize').textContent = "LOCKED OUT";</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                document.getElementById('nextTradeSize').parentElement.classList.add('bg-red-600');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                document.getElementById('nextTradeSize').parentElement.classList.remove('bg-blue-600');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            } else {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                document.getElementById('nextTradeSize').parentElement.classList.remove('bg-red-600');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                document.getElementById('nextTradeSize').parentElement.classList.add('bg-blue-600');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                 // If loop finishes without finding an empty slot and not locked out, it must be the last one</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                if (!nextTradeSizeFound) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                   const lastRunningPL = parseFloat(document.getElementById(`running-pl-${NUM_TRADES}`).textContent) || 0;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                   let finalTradeSize = 0;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    if (autoLadder &amp;&amp; lastRunningPL &gt; 0) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        const profitToRisk = lastRunningPL - Math.max(minProfitToKeep, lastRunningPL * lockInPercent);</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        finalTradeSize = Math.floor(Math.max(0, profitToRisk - feeCushion) / roundDown) * roundDown;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    } else {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        finalTradeSize = Math.floor(Math.max(0, ((dailyLossLockout + lastRunningPL) * 0.5) - feeCushion) / roundDown) * roundDown;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                    }</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                   document.getElementById('nextTradeSize').textContent = finalTradeSize.toFixed(2);</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        function createTradeRows() {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const tbody = document.getElementById('trade-rows');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            for (let i = 1; i &lt;= NUM_TRADES; i++) {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                const row = document.createElement('tr');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                row.id = `trade-row-${i}`;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                row.innerHTML = `</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;td class="table-cell font-medium"&gt;${i}&lt;/td&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;td class="table-cell font-mono"&gt;&lt;span id="recommended-tpsl-${i}"&gt;0.00&lt;/span&gt;&lt;/td&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;td class="table-cell bg-blue-50"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                        &lt;input type="number" id="result-${i}" class="result-input font-mono" placeholder="0.00" step="0.01" data-trade-id="${i}"&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;/td&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;td class="table-cell font-mono font-semibold"&gt;&lt;span id="running-pl-${i}"&gt;0.00&lt;/span&gt;&lt;/td&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                    &lt;td class="table-cell"&gt;&lt;span id="lockout-${i}"&gt;&lt;/span&gt;&lt;/td&gt;</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">                `;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">                tbody.appendChild(row);</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            }</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        }</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">        document.addEventListener('DOMContentLoaded', () =&gt; {</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            createTradeRows();</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            </span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            const inputs = document.querySelectorAll('input, select');</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            inputs.forEach(input =&gt; input.addEventListener('input', calculate));</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">            </span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">            calculate(); // Initial calculation</span></p><p class="Lexical__paragraph"><span style="white-space: pre-wrap;">        });</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">    &lt;/script&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;/body&gt;</span></p><p class="Lexical__paragraph" dir="ltr"><span style="white-space: pre-wrap;">&lt;/html&gt;</span></p><p class="Lexical__paragraph"><br></p><p class="Lexical__paragraph"><br></p>
  </body>
</html>
